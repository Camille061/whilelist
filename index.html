<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Royal Arcane License</title>

<style>
body{
    margin:0;
    font-family: Georgia, serif;
    background: radial-gradient(circle at center,#3b1f00,#1a0d00);
}

.wrapper{
    display:flex;
    justify-content:center;
    align-items:flex-start;
    gap:40px;
    padding:40px;
    flex-wrap:wrap;
}

/* ===== FORM ===== */
.form-section{
    background:#e7d8bf;
    padding:25px;
    border-radius:15px;
    width:100%;
    max-width:360px;
    box-shadow:0 10px 30px rgba(0,0,0,0.4);
}

input, select, textarea{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:8px;
    border:1px solid #8b6a3f;
    background:#f5ead7;
    font-family:inherit;
    font-size:14px;
}

button{
    width:100%;
    padding:12px;
    margin-top:10px;
    border:none;
    border-radius:10px;
    background:#7a5a2c;
    color:white;
    font-weight:bold;
    cursor:pointer;
}

button:hover{
    background:#5c431f;
}

/* ===== CARD ===== */
.card{
    background:#e3cda6;
    padding:30px;
    border-radius:20px;
    width:100%;
    max-width:600px;
    border:6px solid #7a5a2c;
    box-shadow:0 15px 40px rgba(0,0,0,0.6);
}

.card h2{
    text-align:center;
    margin-bottom:5px;
    font-size:20px;
}

.license-no{
    text-align:right;
    font-weight:bold;
    margin-bottom:15px;
}

.card-content{
    display:flex;
    gap:20px;
    flex-wrap:wrap;
}

.photo{
    width:140px;
    height:190px;
    border:3px solid #7a5a2c;
    background:#ccc;
    overflow:hidden;
    flex-shrink:0;
}

.photo img{
    width:100%;
    height:100%;
    object-fit:cover;
}

.info{
    flex:1;
    min-width:180px;
}

.info p{
    margin:6px 0;
    font-size:14px;
}

/* ===== MOBILE ===== */
@media (max-width:768px){
    .wrapper{
        flex-direction:column;
        align-items:center;
        padding:20px;
        gap:25px;
    }

    .card{
        padding:20px;
    }

    .card-content{
        flex-direction:column;
        align-items:center;
    }

    .photo{
        width:120px;
        height:160px;
    }

    .info{
        width:100%;
    }
}
</style>
</head>

<body>

<div class="wrapper">

<!-- FORM -->
<div class="form-section">
<input type="text" id="inputD" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏¥‡∏™">
<input type="text" id="inputR" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏•">
<input type="text" id="inputAge" placeholder="‡∏≠‡∏≤‡∏¢‡∏∏‡πÇ‡∏£‡∏•">
<input type="text" id="inputHeight" placeholder="‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡πÇ‡∏£‡∏•">
<input type="text" id="inputWeight" placeholder="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÇ‡∏£‡∏•">

<select id="inputMagic">
<option>‡πÑ‡∏ü üî•</option>
<option>‡∏ô‡πâ‡∏≥ üíß</option>
<option>‡∏•‡∏° üå™Ô∏è</option>
<option>‡∏î‡∏¥‡∏ô üåø</option>
<option>‡∏™‡∏≤‡∏¢‡∏ü‡πâ‡∏≤ ‚ö°</option>
<option>‡πÅ‡∏™‡∏á ‚ú®</option>
<option>‡∏°‡∏∑‡∏î üåë</option>
<option>‡πÄ‡∏™‡∏µ‡∏¢‡∏á üîä</option>
</select>

<textarea id="inputReason" placeholder="‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤"></textarea>
<input type="file" accept="image/*" onchange="loadImage(event)">

<button onclick="createCard()">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ï‡∏£</button>
<button onclick="downloadCard()">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ö‡∏±‡∏ï‡∏£</button>
</div>

<!-- CARD -->
<div class="card" id="card">
<h2>ROYAL ARCANE LICENSE</h2>
<p class="license-no">‡πÉ‡∏ö‡∏ó‡∏µ‡πà: <span id="licenseNo">1</span></p>

<div class="card-content">

<div class="photo">
<img id="preview">
</div>

<div class="info">
<p><b>‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏¥‡∏™:</b> <span id="dName">-</span></p>
<p><b>‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏•:</b> <span id="rName">-</span></p>
<p><b>‡∏≠‡∏≤‡∏¢‡∏∏‡πÇ‡∏£‡∏•:</b> <span id="age">-</span></p>
<p><b>‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á:</b> <span id="height">-</span></p>
<p><b>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å:</b> <span id="weight">-</span></p>
<p><b>‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏™‡∏≤‡∏¢:</b> <span id="magic">-</span></p>
<p><b>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</b> <span id="reasonText">-</span></p>
</div>

</div>
</div>

</div>

<script>
let counter = localStorage.getItem("licenseCounter") || 1;

function createCard(){
    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    dName.innerText = inputD.value;
    rName.innerText = inputR.value;
    age.innerText = inputAge.value;
    height.innerText = inputHeight.value;
    weight.innerText = inputWeight.value;
    magic.innerText = inputMagic.value;
    reasonText.innerText = inputReason.value;

    // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö
    licenseNo.innerText = counter;

    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏Ç
    counter++;
    localStorage.setItem("licenseCounter", counter);
}

function loadImage(event){
    const reader = new FileReader();
    reader.onload = function(){
        preview.src = reader.result;
    }
    reader.readAsDataURL(event.target.files[0]);
}

function downloadCard(){
    html2canvas(document.getElementById("card")).then(canvas=>{
        const link = document.createElement("a");
        link.download = "arcane-license.png";
        link.href = canvas.toDataURL();
        link.click();
    });
}
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</body>
</html>