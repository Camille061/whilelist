<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Royal Virous Registry</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
*{ box-sizing:border-box; }

body{
    margin:0;
    font-family: Georgia, serif;
    background: radial-gradient(circle at top,#3b2f1e,#1a1208);
    color:#2b1d0e;
    padding:20px;
}

.container{
    display:flex;
    flex-wrap:wrap;
    gap:30px;
    justify-content:center;
    align-items:flex-start;
}

/* ---------------- FORM ---------------- */

form{
    background:#f3e2c7;
    padding:20px;
    border-radius:12px;
    width:100%;
    max-width:360px;
    box-shadow:0 0 25px rgba(0,0,0,0.7);
}

form h2{
    text-align:center;
    color:#5a3d1a;
}

input, select, textarea{
    width:100%;
    padding:8px;
    margin:6px 0;
    border:1px solid #a67c52;
    border-radius:6px;
    background:#fff8e7;
    font-family:Georgia;
    font-size:14px;
}

textarea{
    resize:none;
    height:70px;
}

button{
    width:100%;
    padding:10px;
    margin-top:8px;
    border:none;
    background:#7b5b2e;
    color:white;
    font-weight:bold;
    border-radius:6px;
    cursor:pointer;
}

button:hover{
    background:#5a3d1a;
}

.counter{
    margin-top:10px;
    font-size:14px;
    text-align:center;
}

/* ---------------- CARD ---------------- */

.card{
    width:100%;
    max-width:520px;
    background:#f5deb3;
    border:8px solid #7b5b2e;
    border-radius:15px;
    padding:20px;
    position:relative;
    box-shadow:0 0 40px rgba(0,0,0,0.8);
}

.card h3{
    margin:0;
    font-size:18px;
    text-align:center;
    color:#5a3d1a;
}

.license{
    text-align:right;
    font-weight:bold;
    margin-top:5px;
    font-size:14px;
}

.card-content{
    display:flex;
    gap:15px;
    margin-top:10px;
    flex-wrap:wrap;
}

.profile{
    width:110px;
    height:140px;
    border:3px solid #7b5b2e;
    background:#ddd;
    object-fit:cover;
}

.info{
    flex:1;
    font-size:14px;
}

.info p{
    margin:4px 0;
}

.element{
    margin-top:8px;
    font-size:18px;
    font-weight:bold;
}

.seal{
    font-size:12px;
    opacity:0.7;
    margin-top:8px;
}

/* Desktop layout */

@media (min-width: 900px){
    .container{
        flex-wrap:nowrap;
        align-items:center;
    }
}
</style>
</head>

<body>

<div class="container">

<form id="registerForm">
    <h2>üìú ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£</h2>

    <input type="text" id="discord" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏¥‡∏™" required>
    <input type="text" id="roleName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏•" required>
    <input type="number" id="roleAge" placeholder="‡∏≠‡∏≤‡∏¢‡∏∏‡πÇ‡∏£‡∏•" required>
    <input type="text" id="playRole" placeholder="‡∏ö‡∏ó‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏•‡πà‡∏ô" required>
    <textarea id="reason" placeholder="‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤..." required></textarea>
    <input type="file" id="profileInput" accept="image/*">

    <select id="element">
        <option value="üåë ‡∏ò‡∏≤‡∏ï‡∏∏‡∏°‡∏∑‡∏î">üåë ‡∏ò‡∏≤‡∏ï‡∏∏‡∏°‡∏∑‡∏î</option>
        <option value="üåï ‡∏ò‡∏≤‡∏ï‡∏∏‡πÅ‡∏™‡∏á">üåï ‡∏ò‡∏≤‡∏ï‡∏∏‡πÅ‡∏™‡∏á</option>
        <option value="üéµ ‡∏ò‡∏≤‡∏ï‡∏∏‡πÄ‡∏™‡∏µ‡∏¢‡∏á">üéµ ‡∏ò‡∏≤‡∏ï‡∏∏‡πÄ‡∏™‡∏µ‡∏¢‡∏á</option>
        <option value="üî• ‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü">üî• ‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü</option>
        <option value="üíß ‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥">üíß ‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥</option>
        <option value="üå™ ‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏°">üå™ ‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏°</option>
    </select>

    <button type="submit">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™</button>
    <button type="button" onclick="downloadCard()">‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ö‡∏±‡∏ï‡∏£</button>

    <div class="counter">
        ‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß: <span id="totalCount">0</span> ‡πÉ‡∏ö
    </div>
</form>

<div class="card" id="idCard">
    <h3>‚öú ROYAL VIR0US ARCANE LICENSE ‚öú</h3>

    <div class="license">
        ‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™‡πÉ‡∏ö‡∏ó‡∏µ‡πà <span id="licenseNumber">0</span>
    </div>

    <div class="card-content">
        <img src="" class="profile" id="cardImage">

        <div class="info">
            <p><b>‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏¥‡∏™:</b> <span id="cardDiscord">-</span></p>
            <p><b>‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏•:</b> <span id="cardRoleName">-</span></p>
            <p><b>‡∏≠‡∏≤‡∏¢‡∏∏‡πÇ‡∏£‡∏•:</b> <span id="cardRoleAge">-</span></p>
            <p><b>‡∏ö‡∏ó‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô:</b> <span id="cardPlayRole">-</span></p>
            <p><b>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</b> <span id="cardReason">-</span></p>

            <div class="element" id="cardElement">üåë ‡∏ò‡∏≤‡∏ï‡∏∏‡∏°‡∏∑‡∏î</div>
            <div class="seal">Official Arcane Seal ‚Ä¢ Kingdom Registry</div>
        </div>
    </div>
</div>

</div>

<script>
let total = localStorage.getItem("virousCount");
if(!total){ total = 0; }
document.getElementById("totalCount").textContent = total;

document.getElementById("registerForm").addEventListener("submit", function(e){
    e.preventDefault();

    total++;
    localStorage.setItem("virousCount", total);

    document.getElementById("totalCount").textContent = total;
    document.getElementById("licenseNumber").textContent = total;

    document.getElementById("cardDiscord").textContent = discord.value;
    document.getElementById("cardRoleName").textContent = roleName.value;
    document.getElementById("cardRoleAge").textContent = roleAge.value;
    document.getElementById("cardPlayRole").textContent = playRole.value;
    document.getElementById("cardReason").textContent = reason.value;
    document.getElementById("cardElement").textContent = element.value;

    const file = profileInput.files[0];
    if(file){
        const reader = new FileReader();
        reader.onload = function(){
            document.getElementById("cardImage").src = reader.result;
        }
        reader.readAsDataURL(file);
    }
});

function downloadCard(){
    html2canvas(document.getElementById("idCard")).then(canvas=>{
        const link = document.createElement("a");
        link.download = "Royal_Virous_ID.png";
        link.href = canvas.toDataURL();
        link.click();
    });
}
</script>

</body>
</html>