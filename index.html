<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Viris License System</title>
<link rel="stylesheet" href="style.css">

<style>
body{
  font-family: Georgia, serif;
  background: linear-gradient(135deg,#1b1408,#2b1d0e,#140d05);
  padding:20px;
  color:#f5e6c8;
}

h3{
  margin-bottom:5px;
}

.counter{
  font-size:18px;
  margin-bottom:15px;
  color:#ffd86b;
}

input, textarea, select{
  display:block;
  width:100%;
  margin-bottom:10px;
  padding:8px;
  background:#f3e2c2;
  border:1px solid #8b6b2e;
  color:#3b2a14;
}

textarea{
  height:55px;
  resize:none;
}

button{
  padding:10px 18px;
  background:linear-gradient(to bottom,#c9a227,#8b6b2e);
  color:white;
  border:none;
  cursor:pointer;
  font-weight:bold;
  margin-right:5px;
}

button:hover{
  filter:brightness(1.1);
}

.card{
  width:720px;
  height: 500px;
  background:linear-gradient(#f1e0bd,#e6d2a8);
  border:12px double #8b6b2e;
  padding:30px;
  margin-top:30px;
  display:none;
  color:#673e09;
  position:relative;
}

.card-content{
  display:flex;
  gap:25px;
}

.card img{
  width:400px;
  height:auto; /* ‡πÅ‡∏Å‡πâ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡∏ö‡∏µ‡∏ö */
  object-fit:cover;
  border: solid 8px #fff;
}

.info{
  font-size:18px;
  line-height:1.6;
  max-width:380px;
}
</style>
</head>

<body>

<h3>‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™</h3>
<div class="counter">
‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="virisCount">0</span> ‡πÉ‡∏ö
</div>

<button id="reset" type="button" onclick="resetCount()" hidden>‡∏£‡∏µ‡πÄ‡∏ã‡∏ï‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™</button>

<form id="form">
  <input type="text" id="discord" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏¥‡∏™" required>
  <input type="text" id="role" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏•">
  <input type="text" id="height" placeholder="‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á">
  <input type="text" id="weight" placeholder="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å">
    <input type="text" id="character" placeholder="‡∏ô‡∏¥‡∏™‡∏±‡∏¢">
    <input type="text" id="roleplay" placeholder="‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó">
      <input type="text" id="ability" placeholder="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏û‡∏¥‡πÄ‡∏®‡∏©">

  <select id="magic">
    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ò‡∏≤‡∏ï‡∏∏</option>
    <option value="üî• ‡πÑ‡∏ü">üî• ‡πÑ‡∏ü</option>
    <option value="üåä ‡∏ô‡πâ‡∏≥">üåä ‡∏ô‡πâ‡∏≥</option>
    <option value="üçÉ‡∏•‡∏°">üçÉ‡∏•‡∏°</option>
    <option value="üåç ‡∏î‡∏¥‡∏ô"> üåç ‡∏î‡∏¥‡∏ô</option>
    <option value="‚ö° ‡∏™‡∏≤‡∏¢‡∏ü‡πâ‡∏≤">‚ö° ‡∏™‡∏≤‡∏¢‡∏ü‡πâ‡∏≤</option>
        <!-- <option value="üé∂ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á">üé∂ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á</option> -->
        <!-- <option value="üåü ‡πÅ‡∏™‡∏á">üåü ‡πÅ‡∏™‡∏á</option>
        <option value="üåë ‡∏°‡∏∑‡∏î">üåë ‡∏°‡∏∑‡∏î</option> -->
        <option value=" üßä ‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á"> üßä ‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á</option>



  </select>

  <textarea id="reason" placeholder="‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•"></textarea>
  <input type="file" id="img" accept="image/*">
  <input type="text" name="" id="adminreset" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™(‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)">

  <button type="submit">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™</button>
    <button id="resetbutton" type="submit">‡∏•‡∏ö‡πÉ‡∏ö‡πÑ‡∏ß‡∏£‡∏¥‡∏™‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>

</form>

<div class="card" id="card">
  <h1 style="text-align:center;" class="title">‚ú¶ ELDORIA ACADEMY‚ú¶</h1>
  <div class="card-content">
    <img id="cardImg">
    <div class="info" id="info"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script>
const form = document.getElementById("form");
const card = document.getElementById("card");
const info = document.getElementById("info");
const cardImg = document.getElementById("cardImg");
const imgInput = document.getElementById("img");
const countDisplay = document.getElementById("virisCount");

let imageData = "";

// ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏≤‡∏Å localStorage
let virisCount = parseInt(localStorage.getItem("virisCount")) || 0;
countDisplay.textContent = virisCount;

// ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ
imgInput.addEventListener("change", function(){
  const reader = new FileReader();
  reader.onload = e => imageData = e.target.result;
  if(this.files[0]){
    reader.readAsDataURL(this.files[0]);
  }
});

form.addEventListener("submit", async (e)=>{
  e.preventDefault();

  const discord = document.getElementById("discord").value;
  const role = document.getElementById("role").value;
  const height = document.getElementById("height").value;
  const weight = document.getElementById("weight").value;
  const magic = document.getElementById("magic").value;
  const reason = document.getElementById("reason").value;
   const character = document.getElementById("character").value;
    const ability = document.getElementById("ability").value;
      const roleplay = document.getElementById("roleplay").value;

  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö
  virisCount++;
  localStorage.setItem("virisCount", virisCount);
  countDisplay.textContent = virisCount;

  info.innerHTML = `
    <b>‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö:</b> ${String(virisCount).padStart()}<br>
    <b>‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏¥‡∏™:</b> ${discord}<br>
    <b>‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏•:</b> ${role}<br>
    <b>‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á:</b> ${height}<br>
    <b>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å:</b> ${weight}<br>
    <b>‡∏ô‡∏¥‡∏™‡∏±‡∏¢:</b> ${character}<br>
      <b‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó:</b> ${roleplay}<br>
    <b>‡πÄ‡∏ß‡∏ó‡∏¢‡πå:</b> ${magic}<br>
    <b>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</b> ${reason}<br>
    <b>‡∏ô‡∏¥‡∏™‡∏±‡∏¢:</b> ${character}<br>
    <b>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©:</b>${ability}<br>
  `;

  cardImg.src = imageData || "";
  card.style.display = "block";

  // ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ
  setTimeout(async ()=>{
    const canvas = await html2canvas(card);
    const link = document.createElement("a");
    link.download = "viris_license.png";
    link.href = canvas.toDataURL();
    link.click();
  }, 300);
});

// ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
function resetCount(){
  virisCount = 0;
  localStorage.setItem("virisCount", 0);
  countDisplay.textContent = 0;
}

let reset = document.getElementById("reset")
let adminReset = document.getElementById("adminreset")
let resetButton = document.getElementById("resetbutton")


resetButton.onclick = () => {
//‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏™‡πà‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏ö‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏ú‡∏°‡∏Ç‡∏≠‡∏£‡πâ‡∏≠‡∏á
if (adminReset.value == 111) {
  reset.hidden = false
}
}
</script>

</body>
</html>

<!-- 
git init
git add .
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/Camille061/whilelist.git
git push -u origin main -->